{"mappings":"AAAA,kBAAkB;AAClB,IAAI,UAAU;IAAC;IAAS;IAAS;IAAM;IAAM;IAAW;CAAQ;AAChE,IAAI,SAAS;IAAC;IAAQ;IAAQ;IAAQ;IAAO;IAAQ;CAAM;AAE3D,+BAA+B;AAC/B,IAAI,gBAAgB,OAAO,IAAI,CAAC,CAAC,GAAE,IAAM,IAAI;AAE7C,2BAA2B;AAC3B,IAAI,QAAQ,GAAG,MAAM,CAAC;AAEtB,4BAA4B;AAC5B,IAAI,SAAS,MAAM,SAAS,CAAC,UACV,IAAI,CAAC,eACL,KAAK,GACL,MAAM,CAAC,OACP,IAAI,CAAC,SAAS,SACd,KAAK,CAAC,WAAW,eACjB,KAAK,CAAC,kBAAkB,UACxB,KAAK,CAAC,mBAAmB;AAE5C,0BAA0B;AAC1B,IAAI,OAAO,OAAO,MAAM,CAAC,OACR,IAAI,CAAC,SAAS,OACd,KAAK,CAAC,SAAS,SAAS,CAAC,EAAE;IAAE,OAAO,KAAK,GAAG,CAAC,KAAK,MAAM;AAAM,GAC9D,KAAK,CAAC,UAAU,QAChB,KAAK,CAAC,oBAAoB,CAAA,IAAK,IAAI,IAAI,2BAA2B,sBAAsB,EACxF,KAAK,CAAC,WAAW,QACjB,KAAK,CAAC,mBAAmB,UACzB,KAAK,CAAC,eAAe;AAGtC,kCAAkC;AAClC,KAAK,MAAM,CAAC,OACP,IAAI,CAAC,SAAS,SACd,IAAI,CAAC,SAAS,CAAC,EAAE;IAAE,OAAO,EAAE,OAAO,CAAC;AAAI;AAE7C,4BAA4B;AAC5B,IAAI,SAAS,OAAO,MAAM,CAAC,OACR,IAAI,CAAC,SAAS,SACd,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE;IAAE,OAAO,OAAO,CAAC,EAAE;AAAE,GACzC,KAAK,CAAC,QAAQ,OACd,KAAK,CAAC,WAAW,KACjB,KAAK,CAAC,eAAe,SAAS,CAAC,EAAE;IAAE,OAAO,KAAK,GAAG,CAAC,KAAK,MAAM;AAAM,GACpE,KAAK,CAAC,cAAc;AAEvC,oEAAoE;AACpE,SAAS,aAAa;IACpB,KAAK,KAAK,CAAC,SAAS,SAAS,CAAC,EAAE;QAAE,OAAO,KAAK,GAAG,CAAC,KAAK,MAAM;IAAM,GAC9D,KAAK,CAAC,oBAAoB,SAAS,CAAC,EAAE;QAAE,OAAO,IAAI,IAAI,UAAU,KAAK;IAAE;IAC7E,OAAO,KAAK,CAAC,eAAe,SAAS,CAAC,EAAE;QAAE,OAAO,KAAK,GAAG,CAAC,KAAK,MAAM;IAAM;AAC7E;AAIA,2CAA2C;AAC3C,SAAS,uBAAuB,MAAM,EAAE;IACtC,IAAI,IAAI,OAAO,MAAM;IACrB,IAAI,gBAAgB,IAAI,MAAM;IAE9B,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAK;QAC1B,IAAI,YAAY;QAChB,IAAI,cAAc,UAAU,IAAE;QAC9B,IAAK,IAAI,IAAI,GAAG,IAAK,KAAM,IAAE,GAAK,IAAK;YACrC,IAAI,YAAY,EAAE;YAClB,IAAK,IAAI,IAAI,GAAG,IAAI,IAAE,GAAG,IACvB,IAAI,AAAC,CAAA,IAAK,KAAK,CAAC,MAAO,GACrB,UAAU,IAAI,CAAC;YAGnB,UAAU,IAAI,CAAC;YACf,UAAU,IAAI;YACd,IAAI,IAAI,UAAU,MAAM;YACxB,IAAI,eAAe,MAAM,CAAC,SAAS,CAAC,IAAE,EAAE,CAAC,GAAI,CAAA,IAAI,IAAI,MAAM,CAAC,SAAS,CAAC,IAAE,EAAE,CAAC,GAAG,CAAC,AAAD;YAC9E,aAAa,eAAe,SAAS,IAAE,GAAG,IAAE;QAC9C;QACA,aAAa,CAAC,EAAE,GAAG,YAAY;IACjC;IAEA,OAAO;AACT;AAEA,iDAAiD;AACjD,SAAS,SAAS,CAAC,EAAE,CAAC,EAAE;IACtB,IAAI,SAAS;IACb,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IACrB,UAAU,AAAC,CAAA,IAAE,CAAA,IAAM,CAAA,IAAE,CAAA;IAEvB,OAAO;AACT;AAIA,kDAAkD;AAClD,SAAS,UAAU,CAAC,EAAE;IACpB,IAAI,SAAS;IACb,IAAK,IAAI,IAAI,GAAG,KAAK,GAAG,IACtB,UAAU;IAEZ,OAAO;AACT","sources":["classifier/src/chart.js"],"sourcesContent":["// Define the data\nvar players = [\"Trump\", \"sucks\", \"is\", \"he\", \"asshole\", \"great\"];\nvar values = [-0.234, -0.356, -0.243, 0.134, -0.548, 0.176];\n\n// Calculate the Shapley values\nvar shapleyValues = values.sort((a,b) => a - b)\n\n// Define the chart element\nvar chart = d3.select(\"#chart\");\n\n// Define the group elements\nvar groups = chart.selectAll(\".group\")\n                  .data(shapleyValues)\n                  .enter()\n                  .append(\"div\")\n                  .attr(\"class\", \"group\")\n                  .style(\"display\", \"inline-flex\")\n                  .style(\"flex-direction\", \"column\")\n                  .style(\"justify-content\", \"center\");\n\n// Define the bar elements\nvar bars = groups.append(\"div\")\n                .attr(\"class\", \"bar\")\n                .style(\"width\", function(d) { return Math.abs(d) * 500 + \"px\"; })\n                .style(\"height\", \"35px\")\n                .style(\"background-color\", d => d > 0 ? \"rgba(70, 130, 180, 0.7\" : \"rgba(255, 0, 0, 0.7)\")\n                .style(\"display\", \"flex\")\n                .style(\"justify-content\", \"center\")\n                .style(\"align-items\", \"center\");\n                \n\n// Add a value element to each bar\nbars.append(\"div\")\n    .attr(\"class\", \"value\")\n    .text(function(d) { return d.toFixed(3); })\n\n// Define the label elements\nvar labels = groups.append(\"div\")\n                  .attr(\"class\", \"label\")\n                  .text(function(d, i) { return players[i]; })\n                  .style(\"left\", \"-5%\")\n                  .style(\"padding\", \"0\")\n                  .style(\"margin-left\", function(d) { return Math.abs(d) * 200 + \"px\"; })\n                  .style(\"margin-top\", \"1rem\");\n\n// Define the tick function to update bar widths and label positions\nfunction updateBars() {\n  bars.style(\"width\", function(d) { return Math.abs(d) * 200 + \"px\"; })\n      .style(\"background-color\", function(d) { return d > 0 ? \"green\" : \"red\"; });\n  labels.style(\"margin-left\", function(d) { return Math.abs(d) * 200 + \"px\"; });\n}\n\n\n\n// Function to calculate the Shapley values\nfunction calculateShapleyValues(values) {\n  var n = values.length;\n  var shapleyValues = new Array(n);\n  \n  for (var i = 0; i < n; i++) {\n    var numerator = 0;\n    var denominator = factorial(n-1);\n    for (var j = 0; j < (1 << (n-1)); j++) {\n      var coalition = [];\n      for (var k = 0; k < n-1; k++) {\n        if ((j & (1 << k)) !== 0) {\n          coalition.push(k);\n        }\n      }\n      coalition.push(i);\n      coalition.sort();\n      var m = coalition.length;\n      var contribution = values[coalition[m-1]] - (m > 1 ? values[coalition[m-2]] : 0);\n      numerator += contribution * binomial(n-1, m-1);\n    }\n    shapleyValues[i] = numerator / denominator;\n  }\n  \n  return shapleyValues;\n}\n\n// Function to calculate the binomial coefficient\nfunction binomial(n, k) {\n  var result = 1;\n  for (var i = 0; i < k; i++) {\n    result *= (n-i) / (i+1);\n  }\n  return result;\n}\n\n\n\n// Function to calculate the factorial of a number\nfunction factorial(n) {\n  var result = 1;\n  for (var i = 2; i <= n; i++) {\n    result *= i;\n  }\n  return result;\n}\n\n"],"names":[],"version":3,"file":"index.c07517c4.js.map","sourceRoot":"/__parcel_source_root/"}